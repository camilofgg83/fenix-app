<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/assets/styles/app.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    
    <div class="contenedorPrincipal">
        <div class="cardTables">
            <div class="tittleAndInfo">
                <h2 class="tittleCardTables">Opciones Fenix</h2>
                <span class="material-symbols-outlined">
                    info
                </span>
                <div class="tooltipTittleCardTables">
                    <p>En esta sección se registran ......</p>
                </div>
            </div>
        
            <div class="containerButtonsCardTable">
                <div class="searchCardTable">
                    <p>Buscar: </p>
                    <input type="search" name="" id="">
                </div>
                <div class="buttonsLeftCardTable">
                    <button class="infoButtonAndIcon">
                        <span class="material-symbols-outlined">upgrade</span>
                        Exportar
                    </button>
                    <button id="buttonNewRecord" class="infoButtonAndIcon">
                        <span class="material-symbols-outlined">Add</span>
                        Nuevo
                    </button>
                </div>
                
            </div>
            <div class="containerTable">
                <table class="tableData">
                    <thead>
                        <th width="10px">

                        </th>
                        <th>
                            <div class="tittleTable">
                                TIPO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        <th width="120px">
                            <div class="tittleTable">
                                ESTADO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        <th>
                            <div class="tittleTable">
                                TIPO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="optionsTable">
                                    <span id="iconActions" class="material-symbols-outlined">
                                        add_circle
                                    </span>
                                    <ul class="actionsTables">
                                        <li class="containerOptionsActionsTables">
                                            <span id="iconDetailsOpstionsTable" class="material-symbols-outlined">
                                                visibility 
                                            </span>
                                            <p>Detalle</p>
                                        </li>
                                        <li class="containerOptionsActionsTables">
                                            <span id="iconEditOptionsTable" class="material-symbols-outlined">
                                                edit
                                            </span>
                                            <p>Editar</p>
                                        </li>
                                        <li class="containerOptionsActionsTables">
                                            <span id="iconDeleteOptionsTable" class="material-symbols-outlined">
                                                delete
                                            </span>
                                            <p>Eliminar</p>
                                        </li>
                                    </ul>
                                    
                                </div>
                            </td>
                            <td>Dato 1</td>
                            <td class="status">Activo</td>
                            <td>Dato 1</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="optionsTable">
                                    <span id="iconActions" class="material-symbols-outlined">
                                        add_circle
                                    </span>
                                    <div class="actionsTables">
                                        <div class="containerOptionsActionsTables">
                                            <span id="iconDetailsOpstionsTable" class="material-symbols-outlined">
                                                visibility 
                                            </span>
                                            <p>Detalle</p>
                                        </div>
                                        <div class="containerOptionsActionsTables">
                                            <span id="iconEditOptionsTable" class="material-symbols-outlined">
                                                edit
                                            </span>
                                            <p>Editar</p>
                                        </div>
                                        <div class="containerOptionsActionsTables">
                                            <span id="iconDeleteOptionsTable" class="material-symbols-outlined">
                                                delete
                                            </span>
                                            <p>Eliminar</p>
                                        </div>
                                    </div>
                                    
                                </div>
                            </td>
                            <td>Dato 2</td>
                            <td class="status">Inactivo</td>
                            <td>Dato 2</td>
                        </tr>
                        
                        
                    </tbody>
                </table>
                
            </div>
            <div class="containerPaginationTable">
                <div class="resultsTableShow">
                    <p>10 de 1000 resultados</p>
                </div>
                
                    <nav class="paginationTable">
                        <ul class="listPaginationTable">
                            <li>
                                <a class="iconPaginationTable desactive" href="">
                                    <span class="material-symbols-outlined">
                                        keyboard_double_arrow_left
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a class="iconPaginationTable active" href="">1</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">2</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">3</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">
                                    <span class="material-symbols-outlined">
                                        keyboard_double_arrow_right
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </nav>
            </div>
        </div>
    </div>

    <div id="modalFormNewRecord" class="modal">
        <div id="formModal" class="modalForm">
            <h2>Nuevo Registro</h2>
            
            <div class="infoCard">
                <div class="tittleCard">

                    <div class="requieredFields">
                        <span>Campos obligatorios</span>
                        <span class="material-symbols-outlined">
                            stars
                        </span>
                    </div>
                </div>
                <form action="">
                    <div class="form-group">
                        <div class="input-group full-width">
                            <input type="text" id="emailf" placeholder="E-mail">
                            <label for="email">E-mail</label>
                        </div>
                        <div class="input-group full-width">
                            <input type="password" id="passwordf" placeholder="Contraseña" required>
                            <label for="password">Contraseña</label>
                        </div>
                        <div class="input-group full-width">
                            <select  id="option" required>
                                <option value="0">Selecciona una opción</option>
                                <option value="1">Opción 1</option>
                            </select>
                            <label for="option">Opción</label>
                        </div>
                        <div class="buttonsForm">
                            <button type="submit"  onclick="">Guardar</button>
                            <button id="closeModal">Cancelar</button>
                        </div>
                    </div>
                </form>
            </div>  
        </div> 
    </div> 
    <script src="/assets/scripts/tables.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Función para cerrar todos los menús abiertos
            function closeAllMenus() {
                const menus = document.querySelectorAll('.actionsTables');
                menus.forEach(menu => {
                    menu.style.display = 'none';
                });
            }
    
            // Manejar el clic en el ícono de acciones
            document.querySelectorAll('#iconActions').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    // Cerrar otros menús abiertos
                    closeAllMenus();
                    // Obtener el div .actionsTables dentro de la fila actual
                    const menu = e.target.closest('.optionsTable').querySelector('.actionsTables');
                    // Alternar la visibilidad del menú
                    menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
                    // Prevenir que el evento se propague y cierre el menú inmediatamente
                    e.stopPropagation();
                });
            });
    
            // Manejar el clic en cualquier parte del documento para cerrar el menú
            document.addEventListener('click', () => {
                closeAllMenus();
            });
    
            // Prevenir que el clic dentro del menú lo cierre
            document.querySelectorAll('.actionsTables').forEach(menu => {
                menu.addEventListener('click', (e) => {
                    e.stopPropagation();
                });
            });
    
            // Cerrar el menú al seleccionar una opción
            document.querySelectorAll('.containerOptionsActionsTables').forEach(option => {
                option.addEventListener('click', () => {
                    closeAllMenus();
                });
            });

            // Aplicar fondo dependiendo del estado

            // Aplicar fondo dependiendo del estado
            const estadoCells = document.querySelectorAll(".status");

            estadoCells.forEach(function (cell) {
                // Verifica el texto del elemento y aplica la clase correspondiente
                if (cell.textContent.trim() === "Activo") {
                    cell.classList.add("status-active");
                } else if (cell.textContent.trim() === "Inactivo") {
                    cell.classList.add("status-inactive");
                }

                // Añadir evento de doble clic para cambiar el estado
                cell.addEventListener('dblclick', () => {
                    const currentText = cell.textContent.trim();

                    // Cambia el estado basado en el texto actual
                    if (currentText === 'Activo') {
                        cell.classList.remove("status-active"); // Elimina la clase activa
                        cell.classList.add("status-inactive"); // Añade la clase inactiva
                        cell.textContent = 'Inactivo'; // Cambia el texto
                    } else {
                        cell.classList.remove("status-inactive"); // Elimina la clase inactiva
                        cell.classList.add("status-active"); // Añade la clase activa
                        cell.textContent = 'Activo'; // Cambia el texto
                    }
                });
            });

        });
    </script>
    
    
</body>
</html>