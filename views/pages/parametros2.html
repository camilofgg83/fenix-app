<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/assets/styles/app.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    
    <div class="contenedorPrincipal">
        <div class="cardTables">
            <div class="tittleAndInfo">
                <h2 class="tittleCardTables">Opciones Fenix</h2>
                <span class="material-symbols-outlined">
                    info
                </span>
                <div class="tooltipTittleCardTables">
                    <p>En esta sección se registran ......</p>
                </div>
            </div>
        
            <div class="containerButtonsCardTable">
                <div class="searchCardTable">
                    <p>Buscar: </p>
                    <input type="search" name="" id="">
                </div>
                <div class="buttonsLeftCardTable">
                    <button class="infoButtonAndIcon">
                        <span class="material-symbols-outlined">upgrade</span>
                        Exportar
                    </button>
                    <button id="buttonNewRecord" class="infoButtonAndIcon">
                        <span class="material-symbols-outlined">Add</span>
                        Nuevo
                    </button>
                </div>
                
            </div>
            <div class="containerTable">
                <table class="tableData">
                    <thead>
                        <th width="250px">
                            <div class="tittleTable">
                                TIPO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        <th>
                            <div class="tittleTable">
                                ESTADO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        <th>
                            <div class="tittleTable">
                                TIPO
                                <div class="sortIcons">
                                    <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                    <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                                </div>
                            </div>
                        </th>
                        <th>
                            <div class="tittleTable">
                            TIPO
                            <div class="sortIcons">
                                <span id="orderDescIcon" class="material-symbols-outlined">stat_minus_1</span>
                                <span id="orderAscIcon" class="material-symbols-outlined">stat_1</span>
                            </div>
                        </th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="containerCell">
                                    <div class="infoCell">
                                        Dato 1
                                    </div>
                                    <div id="parametros2" class="optionsTable">
                                        <span id="iconStatusActiveOptionsTable" class="iconStatusActiveOptionsTable material-symbols-outlined">
                                            toggle_on 
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Estado</span>
                                        </div> 
                                        <span id="iconStatusDesactiveOptionsTable" class="iconStatusDesactiveOptionsTable material-symbols-outlined">
                                            toggle_off
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Estado</span>
                                        </div> 
                                        <span id="iconEditOptionsTable" class="material-symbols-outlined">
                                            edit
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Editar</span>
                                        </div> 
                                        <span id="iconDeleteOptionsTable" class="material-symbols-outlined">
                                            delete
                                        </span> 
                                        <div class="tooltipIconOptionTable">
                                            <span>Borrar</span>
                                        </div> 
                                    </div>
                                </div>
                            </td>
                            <td class="status">Activo</td>
                            <td>Dato 1</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="containerCell">
                                    <div class="infoCell">
                                        Dato 1
                                    </div>
                                    <div id="parametros2" class="optionsTable">
                                        <span id="iconStatusActiveOptionsTable" class="iconStatusActiveOptionsTable material-symbols-outlined">
                                            toggle_on 
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Estado</span>
                                        </div> 
                                        <span id="iconStatusDesactiveOptionsTable" class="iconStatusDesactiveOptionsTable material-symbols-outlined">
                                            toggle_off
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Estado</span>
                                        </div> 
                                        <span id="iconEditOptionsTable" class="material-symbols-outlined">
                                            edit
                                        </span>
                                        <div class="tooltipIconOptionTable">
                                            <span>Editar</span>
                                        </div> 
                                        <span id="iconDeleteOptionsTable" class="material-symbols-outlined">
                                            delete
                                        </span> 
                                        <div class="tooltipIconOptionTable">
                                            <span>Borrar</span>
                                        </div> 
                                    </div>
                                </div>
                            </td>
                            <td class="status">Activo</td>
                            <td>Dato 1</td>
                            <td></td>
                           
                        </tr>
                        
                    </tbody>
                </table>
                
            </div>
            <div class="containerPaginationTable">
                <div class="resultsTableShow">
                    <p>10 de 1000 resultados</p>
                </div>
                
                    <nav class="paginationTable">
                        <ul class="listPaginationTable">
                            <li>
                                <a class="iconPaginationTable desactive" href="">
                                    <span class="material-symbols-outlined">
                                        keyboard_double_arrow_left
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a class="iconPaginationTable active" href="">1</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">2</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">3</a>
                            </li>
                            <li>
                                <a class="iconPaginationTable" href="">
                                    <span class="material-symbols-outlined">
                                        keyboard_double_arrow_right
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </nav>
            </div>
        </div>
    </div>

    <div id="modalFormNewRecord" class="modal">
        <div id="formModal" class="modalForm">
            <h2>Nuevo Registro</h2>
            
            <div class="infoCard">
                <div class="tittleCard">

                    <div class="requieredFields">
                        <span>Campos obligatorios</span>
                        <span class="material-symbols-outlined">
                            stars
                        </span>
                    </div>
                </div>
                <form action="">
                    <div class="form-group">
                        <div class="input-group full-width">
                            <input type="text" id="emailf" placeholder="E-mail">
                            <label for="email">E-mail</label>
                        </div>
                        <div class="input-group full-width">
                            <input type="password" id="passwordf" placeholder="Contraseña" required>
                            <label for="password">Contraseña</label>
                        </div>
                        <div class="input-group full-width">
                            <select  id="option" required>
                                <option value="0">Selecciona una opción</option>
                                <option value="1">Opción 1</option>
                            </select>
                            <label for="option">Opción</label>
                        </div>
                        <div class="buttonsForm">
                            <button type="submit"  onclick="">Guardar</button>
                            <button id="closeModal">Cancelar</button>
                        </div>
                    </div>
                </form>
            </div>  
        </div> 
    </div> 
    <script src="/assets/scripts/tables.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const estadoCells = document.querySelectorAll(".status");

            // Inicializar el estado de las celdas
            estadoCells.forEach(function (cell) {
                // Verifica el texto del elemento y aplica la clase correspondiente
                if (cell.textContent.trim() === "Activo") {
                    cell.classList.add("status-active");
                } else if (cell.textContent.trim() === "Inactivo") {
                    cell.classList.add("status-inactive");
                }

                // Añadir evento de doble clic para cambiar el estado
                cell.addEventListener('dblclick', () => {
                    const currentText = cell.textContent.trim();

                    // Cambia el estado basado en el texto actual
                    if (currentText === 'Activo') {
                        cell.classList.remove("status-active"); // Elimina la clase activa
                        cell.classList.add("status-inactive"); // Añade la clase inactiva
                        cell.textContent = 'Inactivo'; // Cambia el texto
                        
                        // Cambia el estado del toggle
                        const activeIcon = cell.closest('tr').querySelector('.iconStatusActiveOptionsTable');
                        const desactiveIcon = cell.closest('tr').querySelector('.iconStatusDesactiveOptionsTable');
                        activeIcon.style.display = 'none'; // Oculta ícono activo
                        desactiveIcon.style.display = 'inline'; // Muestra ícono inactivo
                    } else {
                        cell.classList.remove("status-inactive"); // Elimina la clase inactiva
                        cell.classList.add("status-active"); // Añade la clase activa
                        cell.textContent = 'Activo'; // Cambia el texto
                        
                        // Cambia el estado del toggle
                        const activeIcon = cell.closest('tr').querySelector('.iconStatusActiveOptionsTable');
                        const desactiveIcon = cell.closest('tr').querySelector('.iconStatusDesactiveOptionsTable');
                        desactiveIcon.style.display = 'none'; // Oculta ícono inactivo
                        activeIcon.style.display = 'inline'; // Muestra ícono activo
                    }
                });
            });

            // Manejo de eventos de clic para los íconos de estado
            document.querySelector('.tableData').addEventListener('click', function(event) {
                if (event.target.classList.contains('iconStatusActiveOptionsTable')) {
                    let activeIcon = event.target;
                    let desactiveIcon = activeIcon.nextElementSibling.nextElementSibling; // El siguiente toggle_off
                    
                    // Cambiar el estado de la celda
                    const statusCell = activeIcon.closest('tr').querySelector('.status');
                    statusCell.classList.remove("status-active");
                    statusCell.classList.add("status-inactive");
                    statusCell.textContent = 'Inactivo'; // Cambia el texto
                    
                    // Mostrar/ocultar íconos
                    activeIcon.style.display = 'none';
                    desactiveIcon.style.display = 'inline';
                } else if (event.target.classList.contains('iconStatusDesactiveOptionsTable')) {
                    let desactiveIcon = event.target;
                    let activeIcon = desactiveIcon.previousElementSibling.previousElementSibling; // El toggle_on anterior
                    
                    // Cambiar el estado de la celda
                    const statusCell = desactiveIcon.closest('tr').querySelector('.status');
                    statusCell.classList.remove("status-inactive");
                    statusCell.classList.add("status-active");
                    statusCell.textContent = 'Activo'; // Cambia el texto
                    
                    // Mostrar/ocultar íconos
                    desactiveIcon.style.display = 'none';
                    activeIcon.style.display = 'inline';
                }
            });
        });


    </script>
</body>
</html>